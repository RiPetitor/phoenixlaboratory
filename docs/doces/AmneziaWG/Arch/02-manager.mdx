---
title: –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ VPN
sidebar_position: 2
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

# –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ VPN

## –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `~/awg-manager.sh` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

<details>
<summary>–ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–¥ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ VPN</summary>

```bash
#!/bin/bash

# AmneziaWG VPN Manager
# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

CONFIG_NAME="awg-client"

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ VPN
check_status() {
    echo -e "${BLUE}=== –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ VPN ===${NC}"

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    if sudo awg show "$CONFIG_NAME" &>/dev/null; then
        echo -e "${GREEN}‚úì VPN –ø–æ–¥–∫–ª—é—á–µ–Ω${NC}"

        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
        echo -e "\n${YELLOW}–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:${NC}"
        sudo awg show "$CONFIG_NAME"

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–Ω–µ—à–Ω–∏–π IP
        echo -e "\n${YELLOW}–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ IP:${NC}"
        external_ip=$(curl -s --connect-timeout 5 ifconfig.me 2>/dev/null)
        if [ $? -eq 0 ] && [ -n "$external_ip" ]; then
            echo "–í–∞—à –≤–Ω–µ—à–Ω–∏–π IP: $external_ip"

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
            echo -e "\n${YELLOW}–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ:${NC}"
            provider_info=$(curl -s --connect-timeout 5 "http://ip-api.com/json/$external_ip" 2>/dev/null | jq -r '.org // empty' 2>/dev/null)
            if [ -n "$provider_info" ]; then
                echo "–ü—Ä–æ–≤–∞–π–¥–µ—Ä: $provider_info"
            else
                echo "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞"
            fi

            # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏
            location_info=$(curl -s --connect-timeout 5 "http://ip-api.com/json/$external_ip" 2>/dev/null | jq -r '.country + ", " + .city' 2>/dev/null)
            if [ -n "$location_info" ] && [ "$location_info" != "null, null" ]; then
                echo "–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: $location_info"
            fi

            echo -e "${GREEN}‚úì VPN —Ä–∞–±–æ—Ç–∞–µ—Ç! –¢—Ä–∞—Ñ–∏–∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ VPN-—Å–µ—Ä–≤–µ—Ä${NC}"
        else
            echo -e "${RED}‚úó –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π IP${NC}"
        fi

        return 0
    else
        echo -e "${RED}‚úó VPN –æ—Ç–∫–ª—é—á–µ–Ω${NC}"
        return 1
    fi
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è VPN
connect_vpn() {
    echo -e "${BLUE}=== –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VPN ===${NC}"

    if sudo awg show "$CONFIG_NAME" &>/dev/null; then
        echo -e "${YELLOW}VPN —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω!${NC}"
        return 0
    fi

    echo "–ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è..."
    if sudo awg-quick up "$CONFIG_NAME"; then
        echo -e "${GREEN}‚úì VPN —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω!${NC}"
        sleep 2
        check_status
    else
        echo -e "${RED}‚úó –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è VPN${NC}"
        return 1
    fi
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è VPN
disconnect_vpn() {
    echo -e "${BLUE}=== –û—Ç–∫–ª—é—á–µ–Ω–∏–µ VPN ===${NC}"

    if ! sudo awg show "$CONFIG_NAME" &>/dev/null; then
        echo -e "${YELLOW}VPN —É–∂–µ –æ—Ç–∫–ª—é—á–µ–Ω!${NC}"
        return 0
    fi

    echo "–û—Ç–∫–ª—é—á–∞–µ–º—Å—è..."
    if sudo awg-quick down "$CONFIG_NAME"; then
        echo -e "${GREEN}‚úì VPN —É—Å–ø–µ—à–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω!${NC}"
    else
        echo -e "${RED}‚úó –û—à–∏–±–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è VPN${NC}"
        return 1
    fi
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ VPN
restart_vpn() {
    echo -e "${BLUE}=== –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ VPN ===${NC}"
    disconnect_vpn
    sleep 2
    connect_vpn
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è IP —Å VPN –∏ –±–µ–∑ VPN
compare_ips() {
    echo -e "${BLUE}=== –°—Ä–∞–≤–Ω–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–æ–≤ ===${NC}"

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    vpn_active=false
    if sudo awg show "$CONFIG_NAME" &>/dev/null; then
        vpn_active=true
        echo -e "${GREEN}VPN —Å–µ–π—á–∞—Å –≤–∫–ª—é—á–µ–Ω${NC}"

        # –ü–æ–ª—É—á–∞–µ–º IP —Å VPN
        echo "–ü–æ–ª—É—á–∞–µ–º IP —Å VPN..."
        vpn_ip=$(curl -s --connect-timeout 10 ifconfig.me 2>/dev/null)
        if [ -n "$vpn_ip" ]; then
            echo "IP —Å VPN: $vpn_ip"

            # –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ —Å VPN
            vpn_provider=$(curl -s --connect-timeout 5 "http://ip-api.com/json/$vpn_ip" 2>/dev/null | jq -r '.org + " (" + .country + ", " + .city + ")"' 2>/dev/null)
            if [ -n "$vpn_provider" ] && [ "$vpn_provider" != "null (null, null)" ]; then
                echo "–ü—Ä–æ–≤–∞–π–¥–µ—Ä —Å VPN: $vpn_provider"
            fi
        else
            echo -e "${RED}–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å IP —Å VPN${NC}"
            return 1
        fi

        # –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∞–µ–º VPN
        echo -e "\n${YELLOW}–í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∞–µ–º VPN –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è...${NC}"
        sudo awg-quick down "$CONFIG_NAME" &>/dev/null
        sleep 3
    else
        echo -e "${YELLOW}VPN —Å–µ–π—á–∞—Å –æ—Ç–∫–ª—é—á–µ–Ω${NC}"
    fi

    # –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–π IP
    echo "–ü–æ–ª—É—á–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–π IP..."
    real_ip=$(curl -s --connect-timeout 10 ifconfig.me 2>/dev/null)
    if [ -n "$real_ip" ]; then
        echo "–†–µ–∞–ª—å–Ω—ã–π IP: $real_ip"

        # –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ
        real_provider=$(curl -s --connect-timeout 5 "http://ip-api.com/json/$real_ip" 2>/dev/null | jq -r '.org + " (" + .country + ", " + .city + ")"' 2>/dev/null)
        if [ -n "$real_provider" ] && [ "$real_provider" != "null (null, null)" ]; then
            echo "–í–∞—à –ø—Ä–æ–≤–∞–π–¥–µ—Ä: $real_provider"
        fi
    else
        echo -e "${RED}–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π IP${NC}"
    fi

    # –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º VPN –µ—Å–ª–∏ –±—ã–ª –≤–∫–ª—é—á–µ–Ω
    if [ "$vpn_active" = true ]; then
        echo -e "\n${YELLOW}–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º VPN —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ...${NC}"
        sudo awg-quick up "$CONFIG_NAME" &>/dev/null
        if [ $? -eq 0 ]; then
            echo -e "${GREEN}‚úì VPN –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω${NC}"
        else
            echo -e "${RED}‚úó –û—à–∏–±–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è VPN${NC}"
        fi
    fi

    # –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    if [ -n "$vpn_ip" ] && [ -n "$real_ip" ] && [ "$vpn_ip" != "$real_ip" ]; then
        echo -e "\n${GREEN}‚úì VPN —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! IP –∞–¥—Ä–µ—Å–∞ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è.${NC}"
        echo -e "–†–µ–∞–ª—å–Ω—ã–π IP —Å–∫—Ä—ã—Ç —á–µ—Ä–µ–∑ VPN-—Å–µ—Ä–≤–µ—Ä."
    elif [ -n "$vpn_ip" ] && [ -n "$real_ip" ] && [ "$vpn_ip" = "$real_ip" ]; then
        echo -e "\n${RED}‚ö† –í–Ω–∏–º–∞–Ω–∏–µ! IP –∞–¥—Ä–µ—Å–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ. –í–æ–∑–º–æ–∂–Ω–æ, VPN –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.${NC}"
    fi
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –ª–æ–≥–æ–≤
show_logs() {
    echo -e "${BLUE}=== –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏ systemd ===${NC}"
    sudo journalctl -u "awg-quick@$CONFIG_NAME" --no-pager -n 20
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–æ–º
manage_autostart() {
    local service="awg-quick@$CONFIG_NAME"

    if systemctl is-enabled "$service" &>/dev/null; then
        echo -e "${YELLOW}–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ VPN –≤–∫–ª—é—á–µ–Ω${NC}"
        echo "1) –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫"
        echo "2) –ù–∞–∑–∞–¥"
        read -p "–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é: " choice
        case $choice in
            1)
                sudo systemctl disable "$service"
                sudo systemctl stop "$service" 2>/dev/null
                echo -e "${GREEN}‚úì –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –æ—Ç–∫–ª—é—á–µ–Ω${NC}"
                ;;
        esac
    else
        echo -e "${YELLOW}–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ VPN –æ—Ç–∫–ª—é—á–µ–Ω${NC}"
        echo "1) –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫"
        echo "2) –ù–∞–∑–∞–¥"
        read -p "–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é: " choice
        case $choice in
            1)
                sudo systemctl enable "$service"
                echo -e "${GREEN}‚úì –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –≤–∫–ª—é—á–µ–Ω${NC}"
                ;;
        esac
    fi
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞
regenerate_config() {
    echo -e "${BLUE}=== –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞ ===${NC}"
    echo -e "${YELLOW}–í–Ω–∏–º–∞–Ω–∏–µ! –≠—Ç–æ –æ—Ç–∫–ª—é—á–∏—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏ —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥.${NC}"
    read -p "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å? (y/N): " confirm

    if [[ $confirm =~ ^[Yy]$ ]]; then
        # –û—Ç–∫–ª—é—á–∞–µ–º VPN –µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω
        sudo awg-quick down "$CONFIG_NAME" 2>/dev/null

        # –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥
        cd ~
        if [ -f "genconf.sh" ]; then
            echo "–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥..."
            ./genconf.sh
            if [ -f "awg-client.conf" ]; then
                sudo mv awg-client.conf "/etc/amnezia/amneziawg/awg-client.conf"
                echo -e "${GREEN}‚úì –ù–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥ —Å–æ–∑–¥–∞–Ω!${NC}"
                echo "–•–æ—Ç–∏—Ç–µ —Å—Ä–∞–∑—É –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è? (y/N): "
                read connect_now
                if [[ $connect_now =~ ^[Yy]$ ]]; then
                    connect_vpn
                fi
            else
                echo -e "${RED}‚úó –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞${NC}"
            fi
        else
            echo -e "${RED}‚úó –§–∞–π–ª genconf.sh –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏${NC}"
        fi
    fi
}

# –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
show_menu() {
    clear
    echo -e "${BLUE}=====================================${NC}"
    echo -e "${BLUE}    AmneziaWG VPN Manager v1.0${NC}"
    echo -e "${BLUE}=====================================${NC}"
    echo
    echo "1) üìä –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å VPN"
    echo "2) üîõ –ü–æ–¥–∫–ª—é—á–∏—Ç—å VPN"
    echo "3) üî¥ –û—Ç–∫–ª—é—á–∏—Ç—å VPN"
    echo "4) üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å VPN"
    echo "5) üîç –°—Ä–∞–≤–Ω–∏—Ç—å IP (—Å VPN –∏ –±–µ–∑ VPN)"
    echo "6) ‚öôÔ∏è  –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–æ–º"
    echo "7) üìù –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏"
    echo "8) üÜï –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥ WARP"
    echo "9) üö™ –í—ã—Ö–æ–¥"
    echo
}

# –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª
main() {
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∞ root –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–º–∞–Ω–¥
    if ! command -v awg &> /dev/null; then
        echo -e "${RED}‚úó AmneziaWG –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ PATH${NC}"
        exit 1
    fi

    while true; do
        show_menu
        read -p "–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é (1-9): " choice
        echo

        case $choice in
            1) check_status ;;
            2) connect_vpn ;;
            3) disconnect_vpn ;;
            4) restart_vpn ;;
            5) compare_ips ;;
            6) manage_autostart ;;
            7) show_logs ;;
            8) regenerate_config ;;
            9)
                echo -e "${GREEN}–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!${NC}"
                exit 0
                ;;
            *)
                echo -e "${RED}–ù–µ–≤–µ—Ä–Ω–∞—è –æ–ø—Ü–∏—è!${NC}"
                ;;
        esac

        echo
        read -p "–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è..."
    done
}

# –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –≤—ã–ø–æ–ª–Ω—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é
case "$1" in
    status|check) check_status ;;
    up|connect|on) connect_vpn ;;
    down|disconnect|off) disconnect_vpn ;;
    restart) restart_vpn ;;
    compare|test) compare_ips ;;
    logs) show_logs ;;
    *) main ;;
esac
```

</details>

<CodeBlock language="bash">
{`chmod +x ~/awg-manager.sh
sudo ln -sf ~/awg-manager.sh /usr/local/bin/awg-manager`}
</CodeBlock>

### Fish Shell –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Fish Shell:

<CodeBlock language="fish">
{`# –î–æ–±–∞–≤–ª—è–µ–º –≤ ~/.config/fish/config.fish
alias vpn='~/awg-manager.sh'

function vpn-status
    ~/awg-manager.sh status
end

function vpn-on
    ~/awg-manager.sh up
end

function vpn-off
    ~/awg-manager.sh down
end`}
</CodeBlock>

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å KDE Plasma

### –°–æ–∑–¥–∞–Ω–∏–µ .desktop —Ñ–∞–π–ª–∞

<CodeBlock language="bash">
{`# –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
nano ~/.local/share/applications/awg-manager.desktop`}
</CodeBlock>

<CodeBlock language="ini">
{`[Desktop Entry]
Name=AmneziaWG Manager
Name[ru]=–ú–µ–Ω–µ–¥–∂–µ—Ä AmneziaWG
Comment=–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ AmneziaWG VPN –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
Exec=konsole --title "AmneziaWG VPN Manager" -e fish -c "~/awg-manager.sh; echo '–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è...'; read"
Icon=network-vpn
Terminal=false
Type=Application
Categories=Network;Security;
Keywords=VPN;AmneziaWG;WireGuard;
StartupNotify=true`}
</CodeBlock>

<CodeBlock language="bash">
{`chmod +x ~/.local/share/applications/awg-manager.desktop

# –û–±–Ω–æ–≤–ª—è–µ–º –∫—ç—à –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π KDE
kbuildsycoca5 || kbuildsycoca6

# –ö–æ–ø–∏—Ä—É–µ–º –Ω–∞ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
cp ~/.local/share/applications/awg-manager.desktop ~/Desktop/
gio set ~/Desktop/awg-manager.desktop metadata::trusted true`}
</CodeBlock>

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ VPN

<CodeBlock language="bash">
{`# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥—É–ª—è
lsmod | grep amneziawg

# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ VPN
sudo awg-quick up awg-client

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–Ω–µ—à–Ω–∏–π IP
curl ifconfig.me

# –û—Ç–∫–ª—é—á–∞–µ–º—Å—è –æ—Ç VPN
sudo awg-quick down awg-client`}
</CodeBlock>

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| `gcc: error: unrecognized command-line option '-mretpoline-external-thunk'` | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `make LLVM=1` –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ `make` |
| `resolvconf: command not found` | `sudo pacman -S openresolv` |
| `Could not activate remote peer 'org.freedesktop.resolve1'` | `sudo systemctl enable systemd-resolved` |
| –ú–æ–¥—É–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —è–¥—Ä–∞ | –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ —á–µ—Ä–µ–∑ DKMS: `sudo dkms install -m amneziawg -v 1.0.0` |

### –õ–æ–≥–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

<CodeBlock language="bash">
{`# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ systemd
sudo journalctl -u awg-quick@awg-client

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
ip link show awg-client

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
ip route show table all | grep awg-client`}
</CodeBlock>

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ AmneziaWG –Ω–∞ CachyOS. –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å:

‚úÖ –†–∞–±–æ—á–∏–π AmneziaWG –º–æ–¥—É–ª—å —è–¥—Ä–∞
‚úÖ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
‚úÖ –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä VPN
‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å KDE Plasma
‚úÖ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

:::tip –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π AmneziaWG](https://github.com/amnezia-vpn/amneziawg-linux-kernel-module)
- [AmneziaWG Tools](https://github.com/amnezia-vpn/amneziawg-tools)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è WireGuard](https://www.wireguard.com/)
:::

:::warning –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –∏ –º–æ–¥—É–ª–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–µ VPN –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ù–µ –¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏
:::
