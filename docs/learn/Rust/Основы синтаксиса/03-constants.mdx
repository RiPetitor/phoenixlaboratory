---
title: –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
description: –î–µ—Ç–∞–ª—å–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ Rust, –∏—Ö —Ä–∞–∑–ª–∏—á–∏—è –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
sidebar_position: 3
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

# –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã –∏–∑—É—á–∏–º **–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã** (`const`) –∏ **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** (`static`) ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ Rust, –∫–æ—Ç–æ—Ä—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ –≤—Å–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã. –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∏—Ö —Ä–∞–∑–ª–∏—á–∏–π –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–¥–∞.

## –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (const)

**–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã** –≤ Rust ‚Äî —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ –≤—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –∫–æ–¥ –≤–µ–∑–¥–µ, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.

### –û–±—ä—è–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç

```rust title="–ë–∞–∑–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç"
// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è
const MAX_POINTS: u32 = 100_000;
const PI: f64 = 3.14159265358979323846;
const APP_NAME: &str = "My Rust Application";
const DEBUG_MODE: bool = true;

fn main() {
    println!("–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –æ—á–∫–∏: {}", MAX_POINTS);
    println!("–ß–∏—Å–ª–æ œÄ: {}", PI);
    println!("–ò–º—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: {}", APP_NAME);
    println!("–†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏: {}", DEBUG_MODE);

    // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –º–æ–∂–Ω–æ –æ–±—ä—è–≤–ª—è—Ç—å –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–π
    const LOCAL_CONSTANT: i32 = 42;
    println!("–õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞: {}", LOCAL_CONSTANT);
}
```

### –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç

<div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '15px', marginBottom: '20px'}}>

<div style={{border: '1px solid var(--ifm-color-emphasis-300)', padding: '15px', borderRadius: '8px'}}>
<h4>üìù –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è</h4>
<p>–¢–∏–ø –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω —è–≤–Ω–æ</p>
<code>const VALUE: i32 = 42;</code>
</div>

<div style={{border: '1px solid var(--ifm-color-emphasis-300)', padding: '15px', borderRadius: '8px'}}>
<h4>üîí –í—Å–µ–≥–¥–∞ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã</h4>
<p>–ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>mut</code> —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏</p>
<code>// const mut X: i32 = 42; // ‚ùå –û—à–∏–±–∫–∞</code>
</div>

<div style={{border: '1px solid var(--ifm-color-emphasis-300)', padding: '15px', borderRadius: '8px'}}>
<h4>‚è∞ –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏</h4>
<p>–ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–∑–≤–µ—Å—Ç–Ω–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É</p>
<code>const RESULT: i32 = 10 + 20;</code>
</div>

<div style={{border: '1px solid var(--ifm-color-emphasis-300)', padding: '15px', borderRadius: '8px'}}>
<h4>üè∑Ô∏è –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ SCREAMING_SNAKE_CASE</h4>
<p>–ü—Ä–∏–Ω—è—Ç–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –¥–ª—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç</p>
<code>const MAX_BUFFER_SIZE: usize = 8192;</code>
</div>

</div>

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

Rust –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö –¥–æ–≤–æ–ª—å–Ω–æ —Å–ª–æ–∂–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è:

<Tabs>
<TabItem value="arithmetic" label="–ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏">

```rust title="–ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö"
const SECONDS_IN_MINUTE: u32 = 60;
const MINUTES_IN_HOUR: u32 = 60;
const HOURS_IN_DAY: u32 = 24;

// –°–æ—Å—Ç–∞–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
const SECONDS_IN_HOUR: u32 = SECONDS_IN_MINUTE * MINUTES_IN_HOUR;
const SECONDS_IN_DAY: u32 = SECONDS_IN_HOUR * HOURS_IN_DAY;
const MINUTES_IN_DAY: u32 = MINUTES_IN_HOUR * HOURS_IN_DAY;

// –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
const CIRCLE_AREA: f64 = PI * 5.0 * 5.0;  // –ü–ª–æ—â–∞–¥—å –∫—Ä—É–≥–∞ —Å —Ä–∞–¥–∏—É—Å–æ–º 5
const SQUARE_ROOT_OF_2: f64 = 1.4142135623730951;

fn main() {
    println!("–°–µ–∫—É–Ω–¥ –≤ —á–∞—Å–µ: {}", SECONDS_IN_HOUR);
    println!("–°–µ–∫—É–Ω–¥ –≤ –¥–Ω–µ: {}", SECONDS_IN_DAY);
    println!("–ú–∏–Ω—É—Ç –≤ –¥–Ω–µ: {}", MINUTES_IN_DAY);
    println!("–ü–ª–æ—â–∞–¥—å –∫—Ä—É–≥–∞: {}", CIRCLE_AREA);
    println!("‚àö2 ‚âà {}", SQUARE_ROOT_OF_2);
}
```

</TabItem>
<TabItem value="bitwise" label="–ü–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏">

```rust title="–ë–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö"
const FLAG_A: u32 = 1 << 0;      // 0b00000001
const FLAG_B: u32 = 1 << 1;      // 0b00000010
const FLAG_C: u32 = 1 << 2;      // 0b00000100
const FLAG_D: u32 = 1 << 3;      // 0b00001000

// –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ñ–ª–∞–≥–æ–≤
const FLAGS_AB: u32 = FLAG_A | FLAG_B;        // 0b00000011
const FLAGS_ALL: u32 = FLAG_A | FLAG_B | FLAG_C | FLAG_D; // 0b00001111

// –ú–∞—Å–∫–∏
const MASK_LOWER_NIBBLE: u8 = 0x0F;          // 0b00001111
const MASK_UPPER_NIBBLE: u8 = 0xF0;          // 0b11110000
const MASK_FULL: u8 = MASK_LOWER_NIBBLE | MASK_UPPER_NIBBLE; // 0b11111111

fn main() {
    println!("–§–ª–∞–≥ A: {:08b}", FLAG_A);
    println!("–§–ª–∞–≥ B: {:08b}", FLAG_B);
    println!("–§–ª–∞–≥–∏ A|B: {:08b}", FLAGS_AB);
    println!("–í—Å–µ —Ñ–ª–∞–≥–∏: {:08b}", FLAGS_ALL);

    println!("–ù–∏–∂–Ω—è—è —Ç–µ—Ç—Ä–∞–¥–∞: {:08b}", MASK_LOWER_NIBBLE);
    println!("–í–µ—Ä—Ö–Ω—è—è —Ç–µ—Ç—Ä–∞–¥–∞: {:08b}", MASK_UPPER_NIBBLE);
    println!("–ü–æ–ª–Ω–∞—è –º–∞—Å–∫–∞: {:08b}", MASK_FULL);
}
```

</TabItem>
<TabItem value="arrays" label="–ú–∞—Å—Å–∏–≤—ã –∏ —Å—Ç—Ä–æ–∫–∏">

```rust title="–ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã –∏ —Å—Ç—Ä–æ–∫–∏"
const VOWELS: [char; 5] = ['a', 'e', 'i', 'o', 'u'];
const FIBONACCI: [u32; 10] = [1, 1, 2, 3, 5, 8, 13, 21, 34, 55];
const POWERS_OF_TWO: [u64; 8] = [1, 2, 4, 8, 16, 32, 64, 128];

// –°—Ç—Ä–æ–∫–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
const GREETING: &str = "–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!";
const ERROR_MESSAGE: &str = "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞";
const VERSION: &str = "1.0.0";

// –ë–∞–π—Ç–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏
const MAGIC_BYTES: &[u8] = b"RUST";
const HEX_DUMP: &[u8] = b"\x89PNG\r\n\x1a\n"; // PNG –∑–∞–≥–æ–ª–æ–≤–æ–∫

fn main() {
    println!("–ì–ª–∞—Å–Ω—ã–µ: {:?}", VOWELS);
    println!("–ß–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏: {:?}", FIBONACCI);
    println!("–°—Ç–µ–ø–µ–Ω–∏ –¥–≤–æ–π–∫–∏: {:?}", POWERS_OF_TWO);

    println!("–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ: {}", GREETING);
    println!("–í–µ—Ä—Å–∏—è: {}", VERSION);

    println!("–ú–∞–≥–∏—á–µ—Å–∫–∏–µ –±–∞–π—Ç—ã: {:?}", MAGIC_BYTES);
    println!("Hex –¥–∞–º–ø: {:?}", HEX_DUMP);

    // –î–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –º–∞—Å—Å–∏–≤–∞
    println!("–ü–µ—Ä–≤–∞—è –≥–ª–∞—Å–Ω–∞—è: {}", VOWELS[0]);
    println!("10-–µ —á–∏—Å–ª–æ –§–∏–±–æ–Ω–∞—á—á–∏: {}", FIBONACCI[9]);
}
```

</TabItem>
</Tabs>

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö

```rust title="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö"
// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –º–æ–¥—É–ª—è
const BUFFER_SIZE: usize = 8192;
const MAX_CONNECTIONS: u32 = 100;

struct Config {
    buffer_size: usize,
    max_connections: u32,
    timeout_seconds: u64,
}

impl Config {
    // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ impl –±–ª–æ–∫–∞
    const DEFAULT_TIMEOUT: u64 = 30;
    const MAX_TIMEOUT: u64 = 300;

    fn new() -> Self {
        Self {
            buffer_size: BUFFER_SIZE,  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
            max_connections: MAX_CONNECTIONS,
            timeout_seconds: Self::DEFAULT_TIMEOUT, // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã impl
        }
    }

    fn with_timeout(mut self, timeout: u64) -> Self {
        // –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏
        const MIN_TIMEOUT: u64 = 1;

        self.timeout_seconds = timeout.clamp(MIN_TIMEOUT, Self::MAX_TIMEOUT);
        self
    }
}

fn main() {
    let config = Config::new()
        .with_timeout(60);

    println!("–†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞: {}", config.buffer_size);
    println!("–ú–∞–∫—Å–∏–º—É–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π: {}", config.max_connections);
    println!("–¢–∞–π–º–∞—É—Ç: {} —Å–µ–∫—É–Ω–¥", config.timeout_seconds);

    // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ match –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö
    const SUCCESS_CODE: i32 = 0;
    const ERROR_CODE: i32 = 1;

    let result = SUCCESS_CODE;
    match result {
        SUCCESS_CODE => println!("–£—Å–ø–µ—Ö!"),
        ERROR_CODE => println!("–û—à–∏–±–∫–∞!"),
        _ => println!("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–æ–¥"),
    }
}
```

## –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (static)

**–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** –∏–º–µ—é—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å –≤ –ø–∞–º—è—Ç–∏ –∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ –≤—Å–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.

### –û–±—ä—è–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```rust title="–ë–∞–∑–æ–≤—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ"
static GLOBAL_COUNTER: std::sync::atomic::AtomicUsize =
    std::sync::atomic::AtomicUsize::new(0);

static APP_VERSION: &str = "2.1.0";
static MAX_RETRIES: u8 = 3;
static PI_STATIC: f64 = 3.14159265358979323846;

fn main() {
    println!("–í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: {}", APP_VERSION);
    println!("–ú–∞–∫—Å–∏–º—É–º –ø–æ–≤—Ç–æ—Ä–æ–≤: {}", MAX_RETRIES);
    println!("œÄ (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è): {}", PI_STATIC);

    // –†–∞–±–æ—Ç–∞ —Å –∞—Ç–æ–º–∞—Ä–Ω—ã–º —Å—á—ë—Ç—á–∏–∫–æ–º
    let old_value = GLOBAL_COUNTER.fetch_add(1, std::sync::atomic::Ordering::Relaxed);
    println!("–°—á—ë—Ç—á–∏–∫: {} -> {}", old_value, old_value + 1);

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
    let version_ptr = &APP_VERSION as *const &str;
    println!("–ê–¥—Ä–µ—Å APP_VERSION: {:p}", version_ptr);
}
```

### –ú—É—Ç–∞–±–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

:::danger –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
–ú—É—Ç–∞–±–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã –∏ —Ç—Ä–µ–±—É—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `unsafe` –±–ª–æ–∫–æ–≤!
:::

```rust title="–ú—É—Ç–∞–±–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ"
static mut GLOBAL_STATE: i32 = 0;
static mut MESSAGE: &str = "–ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ";

// –ë–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —Å Mutex
use std::sync::Mutex;
static SAFE_COUNTER: Mutex<i32> = Mutex::new(0);

fn main() {
    // –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –º—É—Ç–∞–±–µ–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
    unsafe {
        GLOBAL_STATE += 1;
        println!("–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: {}", GLOBAL_STATE);

        MESSAGE = "–ò–∑–º–µ–Ω—ë–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ";
        println!("–°–æ–æ–±—â–µ–Ω–∏–µ: {}", MESSAGE);
    }

    // –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å Mutex
    {
        let mut counter = SAFE_COUNTER.lock().unwrap();
        *counter += 1;
        println!("–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫: {}", *counter);
    } // Mutex –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è

    // –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º—É —Å—á—ë—Ç—á–∏–∫—É
    use std::thread;

    let handles: Vec<_> = (0..5).map(|i| {
        thread::spawn(move || {
            let mut counter = SAFE_COUNTER.lock().unwrap();
            *counter += 1;
            println!("–ü–æ—Ç–æ–∫ {} —É–≤–µ–ª–∏—á–∏–ª —Å—á—ë—Ç—á–∏–∫ –¥–æ {}", i, *counter);
        })
    }).collect();

    for handle in handles {
        handle.join().unwrap();
    }
}
```

### –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

–î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–µ–Ω–∏–≤—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é:

<Tabs>
<TabItem value="once-cell" label="std::sync::OnceLock">

```rust title="–õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å OnceLock"
use std::sync::OnceLock;
use std::collections::HashMap;

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å –ª–µ–Ω–∏–≤–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
static SETTINGS: OnceLock<HashMap<String, String>> = OnceLock::new();

fn get_settings() -> &'static HashMap<String, String> {
    SETTINGS.get_or_init(|| {
        let mut map = HashMap::new();
        map.insert("database_url".to_string(), "postgres://localhost".to_string());
        map.insert("port".to_string(), "8080".to_string());
        map.insert("debug".to_string(), "true".to_string());
        map
    })
}

fn main() {
    // –ü–µ—Ä–≤—ã–π –¥–æ—Å—Ç—É–ø –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç HashMap
    let settings = get_settings();
    println!("–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: {}", settings.get("database_url").unwrap());
    println!("–ü–æ—Ä—Ç: {}", settings.get("port").unwrap());

    // –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É–∂–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    let settings_again = get_settings();
    println!("–û—Ç–ª–∞–¥–∫–∞: {}", settings_again.get("debug").unwrap());

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç
    println!("–¢–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç: {}",
             std::ptr::eq(settings, settings_again));
}
```

</TabItem>
<TabItem value="lazy-static" label="–í–Ω–µ—à–Ω—è—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ lazy_static">

```rust title="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ lazy_static (—Ç—Ä–µ–±—É–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ Cargo.toml)"
// –í Cargo.toml:
// [dependencies]
// lazy_static = "1.4"

use lazy_static::lazy_static;
use std::collections::HashMap;
use std::sync::Mutex;

lazy_static! {
    static ref GLOBAL_CONFIG: HashMap<&'static str, &'static str> = {
        let mut map = HashMap::new();
        map.insert("app_name", "My Rust App");
        map.insert("version", "1.0.0");
        map.insert("author", "Rust Developer");
        map
    };

    static ref SHARED_VECTOR: Mutex<Vec<i32>> = {
        Mutex::new(vec![1, 2, 3, 4, 5])
    };
}

fn main() {
    // –î–æ—Å—Ç—É–ø –∫ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ–π –ª–µ–Ω–∏–≤–æ–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
    println!("–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: {}", GLOBAL_CONFIG.get("app_name").unwrap());
    println!("–í–µ—Ä—Å–∏—è: {}", GLOBAL_CONFIG.get("version").unwrap());

    // –î–æ—Å—Ç—É–ø –∫ –∏–∑–º–µ–Ω—è–µ–º–æ–π –ª–µ–Ω–∏–≤–æ–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
    {
        let mut vec = SHARED_VECTOR.lock().unwrap();
        vec.push(6);
        println!("–í–µ–∫—Ç–æ—Ä: {:?}", *vec);
    }

    // –ò–∑ –¥—Ä—É–≥–æ–≥–æ –ø–æ—Ç–æ–∫–∞
    use std::thread;
    let handle = thread::spawn(|| {
        let mut vec = SHARED_VECTOR.lock().unwrap();
        vec.push(7);
        println!("–ò–∑ –ø–æ—Ç–æ–∫–∞: {:?}", *vec);
    });

    handle.join().unwrap();
}
```

</TabItem>
<TabItem value="once" label="std::sync::Once">

```rust title="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ std::sync::Once –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏"
use std::sync::{Once, ONCE_INIT};

static INIT: Once = ONCE_INIT;
static mut INITIALIZED_VALUE: Option<String> = None;

fn get_initialized_value() -> &'static str {
    unsafe {
        INIT.call_once(|| {
            // –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
            println!("–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏—è...");
            INITIALIZED_VALUE = Some("–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ".to_string());
        });

        INITIALIZED_VALUE.as_ref().unwrap()
    }
}

fn main() {
    println!("–ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤:");
    println!("{}", get_initialized_value());

    println!("–í—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤:");
    println!("{}", get_initialized_value());

    println!("–¢—Ä–µ—Ç–∏–π –≤—ã–∑–æ–≤:");
    println!("{}", get_initialized_value());

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ
}
```

</TabItem>
</Tabs>

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ const –∏ static

–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É `const` –∏ `static` –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:

<table>
<thead>
<tr>
<th>–ê—Å–ø–µ–∫—Ç</th>
<th>const</th>
<th>static</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>–í—Ä–µ–º—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è</strong></td>
<td>–í–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏</td>
<td>–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏</td>
</tr>
<tr>
<td><strong>–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏</strong></td>
<td>–í—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –∫–æ–¥ (inlined)</td>
<td>–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å –≤ –ø–∞–º—è—Ç–∏</td>
</tr>
<tr>
<td><strong>–ú—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å</strong></td>
<td>–í—Å–µ–≥–¥–∞ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã</td>
<td>–ú–æ–≥—É—Ç –±—ã—Ç—å –º—É—Ç–∞–±–µ–ª—å–Ω—ã–º–∏ (unsafe)</td>
</tr>
<tr>
<td><strong>–†–∞–∑–º–µ—Ä –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞</strong></td>
<td>–ú–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä</td>
<td>–û–¥–Ω–∞ –∫–æ–ø–∏—è –≤ –ø–∞–º—è—Ç–∏</td>
</tr>
<tr>
<td><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏</strong></td>
<td>–ö–æ–ø–∏—è –≤ –∫–∞–∂–¥–æ–º –º–µ—Å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</td>
<td>–û–¥–Ω–æ –º–µ—Å—Ç–æ –≤ –ø–∞–º—è—Ç–∏</td>
</tr>
<tr>
<td><strong>–ü–æ–ª—É—á–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞</strong></td>
<td>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ</td>
<td>–í–æ–∑–º–æ–∂–Ω–æ</td>
</tr>
<tr>
<td><strong>–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å</strong></td>
<td>–ù–µ—Ç –ø—Ä–æ–±–ª–µ–º</td>
<td>–¢—Ä–µ–±—É–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–ª—è mut</td>
</tr>
</tbody>
</table>

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

```rust title="–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–∑–ª–∏—á–∏–π const –∏ static"
const CONST_VALUE: i32 = 42;
static STATIC_VALUE: i32 = 42;

fn main() {
    // –ù–µ–ª—å–∑—è –ø–æ–ª—É—á–∏—Ç—å –∞–¥—Ä–µ—Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
    // let const_ptr = &CONST_VALUE as *const i32; // ‚ùå –û—à–∏–±–∫–∞ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö

    // –ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∞–¥—Ä–µ—Å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
    let static_ptr = &STATIC_VALUE as *const i32;
    println!("–ê–¥—Ä–µ—Å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π: {:p}", static_ptr);

    // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è inlining –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
    let array_const = [CONST_VALUE; 3]; // –ó–Ω–∞—á–µ–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–æ
    let array_static = [STATIC_VALUE; 3]; // –ó–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑ –ø–∞–º—è—Ç–∏

    println!("–ú–∞—Å—Å–∏–≤ —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π: {:?}", array_const);
    println!("–ú–∞—Å—Å–∏–≤ —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π: {:?}", array_static);

    // –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è
    for i in 0..5 {
        // CONST_VALUE –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–µ –º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
        println!("–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ #{}: {}", i, CONST_VALUE);

        // STATIC_VALUE –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –≤ –ø–∞–º—è—Ç–∏
        println!("–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è #{}: {}", i, STATIC_VALUE);
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ inlining
fn use_const() -> i32 {
    CONST_VALUE * 2  // –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –≤ 84
}

fn use_static() -> i32 {
    STATIC_VALUE * 2  // –¢—Ä–µ–±—É–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ø–∞–º—è—Ç–∏
}
```

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å const vs static

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ const –∫–æ–≥–¥–∞:

```rust title="‚úÖ –•–æ—Ä–æ—à–∏–µ —Å–ª—É—á–∞–∏ –¥–ª—è const"
// –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
const PI: f64 = 3.14159265358979323846;
const E: f64 = 2.71828182845904523536;

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
const MAX_BUFFER_SIZE: usize = 8192;
const DEFAULT_TIMEOUT: u64 = 30;

// –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞
const HTTP_OK: u16 = 200;
const HTTP_NOT_FOUND: u16 = 404;

// –ë–∏—Ç–æ–≤—ã–µ –º–∞—Å–∫–∏
const READ_PERMISSION: u8 = 0b100;
const WRITE_PERMISSION: u8 = 0b010;
const EXECUTE_PERMISSION: u8 = 0b001;

fn main() {
    let area = PI * 5.0 * 5.0;
    println!("–ü–ª–æ—â–∞–¥—å –∫—Ä—É–≥–∞: {}", area);

    let permissions = READ_PERMISSION | WRITE_PERMISSION;
    println!("–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: {:03b}", permissions);
}
```

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ static –∫–æ–≥–¥–∞:

```rust title="‚úÖ –•–æ—Ä–æ—à–∏–µ —Å–ª—É—á–∞–∏ –¥–ª—è static"
use std::sync::atomic::{AtomicUsize, Ordering};
use std::sync::Mutex;

// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—á—ë—Ç—á–∏–∫–∏
static REQUEST_COUNTER: AtomicUsize = AtomicUsize::new(0);

// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ)
static APPLICATION_NAME: &str = "My Web Server";
static BUILD_VERSION: &str = env!("CARGO_PKG_VERSION");

// –†–∞–∑–¥–µ–ª—è–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π)
static SHARED_DATA: Mutex<Vec<String>> = Mutex::new(Vec::new());

// –ë–æ–ª—å—à–∏–µ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ
static LOOKUP_TABLE: [u64; 1000] = [0; 1000]; // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω—É–ª—è–º–∏

fn increment_requests() {
    REQUEST_COUNTER.fetch_add(1, Ordering::Relaxed);
}

fn get_request_count() -> usize {
    REQUEST_COUNTER.load(Ordering::Relaxed)
}

fn main() {
    println!("–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: {}", APPLICATION_NAME);
    println!("–í–µ—Ä—Å–∏—è: {}", BUILD_VERSION);

    // –°–∏–º—É–ª—è—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
    for _ in 0..5 {
        increment_requests();
    }

    println!("–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∑–∞–ø—Ä–æ—Å–æ–≤: {}", get_request_count());

    // –†–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
    {
        let mut data = SHARED_DATA.lock().unwrap();
        data.push("–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å".to_string());
        println!("–ó–∞–ø–∏—Å–µ–π –≤ shared data: {}", data.len());
    }
}
```

## –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

Rust –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é `const fn`:

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```rust title="–ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (const fn)"
const fn factorial(n: u64) -> u64 {
    if n <= 1 {
        1
    } else {
        n * factorial(n - 1)
    }
}

const fn fibonacci(n: u32) -> u64 {
    match n {
        0 => 0,
        1 => 1,
        _ => fibonacci(n - 1) + fibonacci(n - 2),
    }
}

const fn is_power_of_two(n: u32) -> bool {
    n != 0 && (n & (n - 1)) == 0
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ const fn –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö
const FACTORIAL_10: u64 = factorial(10);
const FIB_20: u64 = fibonacci(20);
const IS_POWER_OF_TWO_16: bool = is_power_of_two(16);

fn main() {
    println!("10! = {}", FACTORIAL_10);           // 3628800
    println!("fib(20) = {}", FIB_20);             // 6765
    println!("16 - —Å—Ç–µ–ø–µ–Ω—å –¥–≤–æ–π–∫–∏: {}", IS_POWER_OF_TWO_16); // true

    // –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å const fn –∏ –≤ runtime
    let runtime_factorial = factorial(5);
    println!("5! = {}", runtime_factorial);       // 120

    // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ —Ä–∞–∑–º–µ—Ä–∞—Ö –º–∞—Å—Å–∏–≤–æ–≤
    const ARRAY_SIZE: usize = factorial(4) as usize;
    let buffer: [u8; ARRAY_SIZE] = [0; ARRAY_SIZE];
    println!("–†–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞: {}", buffer.len()); // 24
}
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è const fn

```rust title="–ß—Ç–æ –º–æ–∂–Ω–æ –∏ –Ω–µ–ª—å–∑—è –≤ const fn"
// ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ –≤ const fn
const fn allowed_operations(x: i32, y: i32) -> i32 {
    // –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
    let sum = x + y;
    let product = x * y;

    // –£—Å–ª–æ–≤–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
    let result = if x > y { sum } else { product };

    // –¶–∏–∫–ª—ã
    let mut counter = 0;
    let mut i = 0;
    while i < 10 {
        counter += 1;
        i += 1;
    }

    // Match –≤—ã—Ä–∞–∂–µ–Ω–∏—è
    match result {
        0 => counter,
        _ => result + counter,
    }
}

// ‚ùå –ù–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –≤ const fn (–Ω–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è)
/*
const fn not_allowed() {
    // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
    let v = Vec::new(); // ‚ùå

    // –í—ã–∑–æ–≤ –Ω–µ-const —Ñ—É–Ω–∫—Ü–∏–π
    println!("Hello"); // ‚ùå

    // –†–∞–±–æ—Ç–∞ —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ (–≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤)
    let ptr = &42 as *const i32; // ‚ùå

    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
    std::thread::sleep(std::time::Duration::from_secs(1)); // ‚ùå
}
*/

const COMPUTED_VALUE: i32 = allowed_operations(10, 20);

fn main() {
    println!("–í—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: {}", COMPUTED_VALUE);
}
```

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```rust title="–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏"
use std::sync::OnceLock;
use std::collections::HashMap;

// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
const DEFAULT_PORT: u16 = 8080;
const DEFAULT_HOST: &str = "127.0.0.1";
const DEFAULT_MAX_CONNECTIONS: u32 = 1000;
const DEFAULT_TIMEOUT_MS: u64 = 5000;

// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
const MIN_PORT: u16 = 1024;
const MAX_PORT: u16 = 65535;
const MIN_CONNECTIONS: u32 = 1;
const MAX_CONNECTIONS: u32 = 10000;

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –ª–µ–Ω–∏–≤–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
static CONFIG: OnceLock<AppConfig> = OnceLock::new();

#[derive(Debug)]
struct AppConfig {
    host: String,
    port: u16,
    max_connections: u32,
    timeout_ms: u64,
    features: HashMap<String, bool>,
}

impl AppConfig {
    const fn validate_port(port: u16) -> bool {
        port >= MIN_PORT && port <= MAX_PORT
    }

    const fn validate_connections(connections: u32) -> bool {
        connections >= MIN_CONNECTIONS && connections <= MAX_CONNECTIONS
    }

    fn new() -> Self {
        let mut features = HashMap::new();
        features.insert("logging".to_string(), true);
        features.insert("metrics".to_string(), false);
        features.insert("debug".to_string(), cfg!(debug_assertions));

        Self {
            host: DEFAULT_HOST.to_string(),
            port: DEFAULT_PORT,
            max_connections: DEFAULT_MAX_CONNECTIONS,
            timeout_ms: DEFAULT_TIMEOUT_MS,
            features,
        }
    }

    fn load_from_env() -> Self {
        let mut config = Self::new();

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
        if let Ok(port_str) = std::env::var("APP_PORT") {
            if let Ok(port) = port_str.parse::<u16>() {
                if Self::validate_port(port) {
                    config.port = port;
                }
            }
        }

        if let Ok(host) = std::env::var("APP_HOST") {
            config.host = host;
        }

        if let Ok(max_conn_str) = std::env::var("APP_MAX_CONNECTIONS") {
            if let Ok(max_conn) = max_conn_str.parse::<u32>() {
                if Self::validate_connections(max_conn) {
                    config.max_connections = max_conn;
                }
            }
        }

        config
    }
}

fn get_config() -> &'static AppConfig {
    CONFIG.get_or_init(AppConfig::load_from_env)
}

fn main() {
    // –ü–µ—Ä–≤–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
    let config = get_config();
    println!("–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:");
    println!("  –•–æ—Å—Ç: {}", config.host);
    println!("  –ü–æ—Ä—Ç: {}", config.port);
    println!("  –ú–∞–∫—Å. —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π: {}", config.max_connections);
    println!("  –¢–∞–π–º–∞—É—Ç: {} –º—Å", config.timeout_ms);

    println!("  –§—É–Ω–∫—Ü–∏–∏:");
    for (feature, enabled) in &config.features {
        println!("    {}: {}", feature, if *enabled { "–≤–∫–ª—é—á–µ–Ω–∞" } else { "–æ—Ç–∫–ª—é—á–µ–Ω–∞" });
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç
    println!("\n–í–∞–ª–∏–¥–∞—Ü–∏—è:");
    println!("  –ü–æ—Ä—Ç 80 –≤–∞–ª–∏–¥–µ–Ω: {}", AppConfig::validate_port(80));
    println!("  –ü–æ—Ä—Ç 8080 –≤–∞–ª–∏–¥–µ–Ω: {}", AppConfig::validate_port(8080));
    println!("  1000000 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –≤–∞–ª–∏–¥–Ω–æ: {}", AppConfig::validate_connections(1000000));
}
```

### –°–∏—Å—Ç–µ–º–∞ –º–µ—Ç—Ä–∏–∫

```rust title="–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–µ—Ç—Ä–∏–∫"
use std::sync::atomic::{AtomicU64, AtomicUsize, Ordering};
use std::time::{Duration, Instant};
use std::sync::OnceLock;

// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –º–µ—Ç—Ä–∏–∫
const METRICS_UPDATE_INTERVAL_MS: u64 = 1000;
const MAX_RESPONSE_TIME_MS: u64 = 30000;

// –ê—Ç–æ–º–∞—Ä–Ω—ã–µ —Å—á—ë—Ç—á–∏–∫–∏ –¥–ª—è –º–µ—Ç—Ä–∏–∫
static REQUESTS_TOTAL: AtomicU64 = AtomicU64::new(0);
static REQUESTS_SUCCESS: AtomicU64 = AtomicU64::new(0);
static REQUESTS_ERROR: AtomicU64 = AtomicU64::new(0);
static RESPONSE_TIME_TOTAL_MS: AtomicU64 = AtomicU64::new(0);
static ACTIVE_CONNECTIONS: AtomicUsize = AtomicUsize::new(0);

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏ —Å—Ç–∞—Ä—Ç–∞
static START_TIME: OnceLock<Instant> = OnceLock::new();

struct Metrics;

impl Metrics {
    fn init() {
        START_TIME.get_or_init(Instant::now);
    }

    fn record_request_start() {
        REQUESTS_TOTAL.fetch_add(1, Ordering::Relaxed);
        ACTIVE_CONNECTIONS.fetch_add(1, Ordering::Relaxed);
    }

    fn record_request_end(success: bool, duration: Duration) {
        ACTIVE_CONNECTIONS.fetch_sub(1, Ordering::Relaxed);

        if success {
            REQUESTS_SUCCESS.fetch_add(1, Ordering::Relaxed);
        } else {
            REQUESTS_ERROR.fetch_add(1, Ordering::Relaxed);
        }

        let duration_ms = duration.as_millis() as u64;
        RESPONSE_TIME_TOTAL_MS.fetch_add(duration_ms, Ordering::Relaxed);
    }

    fn get_stats() -> MetricsSnapshot {
        let total = REQUESTS_TOTAL.load(Ordering::Relaxed);
        let success = REQUESTS_SUCCESS.load(Ordering::Relaxed);
        let error = REQUESTS_ERROR.load(Ordering::Relaxed);
        let response_time_total = RESPONSE_TIME_TOTAL_MS.load(Ordering::Relaxed);
        let active = ACTIVE_CONNECTIONS.load(Ordering::Relaxed);

        let uptime = START_TIME.get()
            .map(|start| start.elapsed())
            .unwrap_or(Duration::ZERO);

        let avg_response_time = if total > 0 {
            response_time_total / total
        } else {
            0
        };

        MetricsSnapshot {
            requests_total: total,
            requests_success: success,
            requests_error: error,
            success_rate: if total > 0 { success as f64 / total as f64 } else { 0.0 },
            average_response_time_ms: avg_response_time,
            active_connections: active,
            uptime_seconds: uptime.as_secs(),
        }
    }

    fn reset() {
        REQUESTS_TOTAL.store(0, Ordering::Relaxed);
        REQUESTS_SUCCESS.store(0, Ordering::Relaxed);
        REQUESTS_ERROR.store(0, Ordering::Relaxed);
        RESPONSE_TIME_TOTAL_MS.store(0, Ordering::Relaxed);
        // ACTIVE_CONNECTIONS –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º - –æ–Ω–∞ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    }
}

#[derive(Debug)]
struct MetricsSnapshot {
    requests_total: u64,
    requests_success: u64,
    requests_error: u64,
    success_rate: f64,
    average_response_time_ms: u64,
    active_connections: usize,
    uptime_seconds: u64,
}

// –°–∏–º—É–ª—è—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
fn simulate_request(id: u32, will_succeed: bool) {
    println!("–ó–∞–ø—Ä–æ—Å {} –Ω–∞—á–∞—Ç", id);
    Metrics::record_request_start();

    let start = Instant::now();

    // –°–∏–º—É–ª—è—Ü–∏—è —Ä–∞–±–æ—Ç—ã
    std::thread::sleep(Duration::from_millis(10 + (id % 100) as u64));

    let duration = start.elapsed();
    Metrics::record_request_end(will_succeed, duration);

    println!("–ó–∞–ø—Ä–æ—Å {} –∑–∞–≤–µ—Ä—à—ë–Ω ({})",
             id,
             if will_succeed { "—É—Å–ø–µ—à–Ω–æ" } else { "—Å –æ—à–∏–±–∫–æ–π" });
}

fn main() {
    Metrics::init();

    println!("–ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã –º–µ—Ç—Ä–∏–∫...\n");

    // –°–∏–º—É–ª—è—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
    use std::thread;

    let handles: Vec<_> = (0..10).map(|i| {
        thread::spawn(move || {
            simulate_request(i, i % 4 != 0); // 75% —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
        })
    }).collect();

    // –ñ–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
    for handle in handles {
        handle.join().unwrap();
    }

    // –ü–æ–ª—É—á–∞–µ–º –∏ –≤—ã–≤–æ–¥–∏–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    let stats = Metrics::get_stats();
    println!("\n=== –ú–ï–¢–†–ò–ö–ò ===");
    println!("–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: {}", stats.requests_total);
    println!("–£—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤: {}", stats.requests_success);
    println!("–û—à–∏–±–æ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤: {}", stats.requests_error);
    println!("–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —É—Å–ø–µ—Ö–∞: {:.1}%", stats.success_rate * 100.0);
    println!("–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {} –º—Å", stats.average_response_time_ms);
    println!("–ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π: {}", stats.active_connections);
    println!("–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: {} —Å–µ–∫—É–Ω–¥", stats.uptime_seconds);

    // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–±—Ä–æ—Å–∞ –º–µ—Ç—Ä–∏–∫
    println!("\n–°–±—Ä–æ—Å –º–µ—Ç—Ä–∏–∫...");
    Metrics::reset();
    let reset_stats = Metrics::get_stats();
    println!("–ü–æ—Å–ª–µ —Å–±—Ä–æ—Å–∞ - –≤—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: {}", reset_stats.requests_total);
}
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

```rust title="–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤ —Å–±–æ—Ä–∫–∏"
// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç —Ä–µ–∂–∏–º–∞ —Å–±–æ—Ä–∫–∏
const LOG_LEVEL: &str = if cfg!(debug_assertions) {
    "DEBUG"
} else {
    "INFO"
};

const BUFFER_SIZE: usize = if cfg!(debug_assertions) {
    1024  // –ú–µ–Ω—å—à–∏–π –±—É—Ñ–µ—Ä –≤ debug —Ä–µ–∂–∏–º–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
} else {
    8192  // –ë–æ–ª—å—à–∏–π –±—É—Ñ–µ—Ä –≤ release —Ä–µ–∂–∏–º–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
};

const ENABLE_PROFILING: bool = cfg!(debug_assertions);
const ENABLE_METRICS: bool = true;
const ENABLE_TRACING: bool = cfg!(feature = "tracing");

// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
const MAX_PATH_LENGTH: usize = if cfg!(target_os = "windows") {
    260
} else if cfg!(target_os = "linux") {
    4096
} else {
    1024
};

const PATH_SEPARATOR: char = if cfg!(target_os = "windows") {
    '\\'
} else {
    '/'
};

// –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ-–∑–∞–≤–∏—Å–∏–º—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
const WORD_SIZE: usize = std::mem::size_of::<usize>();
const IS_64_BIT: bool = WORD_SIZE == 8;

fn main() {
    println!("=== –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –°–ë–û–†–ö–ò ===");
    println!("–£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: {}", LOG_LEVEL);
    println!("–†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞: {} –±–∞–π—Ç", BUFFER_SIZE);
    println!("–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ: {}", ENABLE_PROFILING);
    println!("–ú–µ—Ç—Ä–∏–∫–∏ –≤–∫–ª—é—á–µ–Ω—ã: {}", ENABLE_METRICS);
    println!("–¢—Ä–µ–π—Å–∏–Ω–≥ –≤–∫–ª—é—á—ë–Ω: {}", ENABLE_TRACING);

    println!("\n=== –ü–õ–ê–¢–§–û–†–ú–ê ===");
    println!("–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: {}", std::env::consts::OS);
    println!("–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: {}", std::env::consts::ARCH);
    println!("–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø—É—Ç–∏: {}", MAX_PATH_LENGTH);
    println!("–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –ø—É—Ç–µ–π: '{}'", PATH_SEPARATOR);

    println!("\n=== –ê–†–•–ò–¢–ï–ö–¢–£–†–ê ===");
    println!("–†–∞–∑–º–µ—Ä —Å–ª–æ–≤–∞: {} –±–∞–π—Ç", WORD_SIZE);
    println!("64-–±–∏—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: {}", IS_64_BIT);
    println!("–ü–æ—Ä—è–¥–æ–∫ –±–∞–π—Ç–æ–≤: {}", std::env::consts::ENDIAN);

    // –£—Å–ª–æ–≤–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è –≤ –∫–æ–¥–µ
    if ENABLE_PROFILING {
        println!("\n[–ü–†–û–§–ò–õ–ò–†–û–í–ê–ù–ò–ï] –ù–∞—á–∞–ª–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏");
    }

    // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –ø—É—Ç—è–º–∏
    let example_path = format!("home{}user{}documents{}file.txt",
                              PATH_SEPARATOR, PATH_SEPARATOR, PATH_SEPARATOR);
    println!("\n–ü—Ä–∏–º–µ—Ä –ø—É—Ç–∏: {}", example_path);

    if example_path.len() > MAX_PATH_LENGTH {
        println!("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ø—É—Ç—å –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É!");
    }
}
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ

```rust title="‚úÖ –•–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è"
// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã - SCREAMING_SNAKE_CASE
const MAX_BUFFER_SIZE: usize = 8192;
const DEFAULT_TIMEOUT_SECONDS: u64 = 30;
const PI: f64 = 3.14159265358979323846;

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ - SCREAMING_SNAKE_CASE
static GLOBAL_COUNTER: std::sync::atomic::AtomicUsize =
    std::sync::atomic::AtomicUsize::new(0);
static APPLICATION_CONFIG: &str = "production";

// –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç
mod http_status {
    pub const OK: u16 = 200;
    pub const NOT_FOUND: u16 = 404;
    pub const INTERNAL_SERVER_ERROR: u16 = 500;
}

// –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ enum –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
#[repr(u16)]
enum HttpStatus {
    Ok = 200,
    NotFound = 404,
    InternalServerError = 500,
}

fn main() {
    println!("HTTP OK: {}", http_status::OK);
    println!("HTTP OK (enum): {}", HttpStatus::Ok as u16);
}
```

### 2. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```rust title="‚úÖ –•–æ—Ä–æ—à–µ–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ"
/// –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.
///
/// –≠—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–æ –∏—Å—Ö–æ–¥—è –∏–∑ –±–∞–ª–∞–Ω—Å–∞ –º–µ–∂–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∞–º—è—Ç–∏
/// –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é. –ü—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è —É–ª—É—á—à–∞–µ—Ç—Å—è
/// –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω–æ —Ä–∞—Å—Ç—ë—Ç –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏.
const MAX_BUFFER_SIZE: usize = 8192;

/// –¢–∞–π–º–∞—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö.
///
/// # –ü—Ä–∏–º–µ—Ä—ã
///
/// ```rust
/// use std::time::Duration;
/// let timeout = Duration::from_secs(DEFAULT_HTTP_TIMEOUT);
/// ```
const DEFAULT_HTTP_TIMEOUT: u64 = 30;

/// –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.
///
/// –≠—Ç–æ—Ç —Å—á—ë—Ç—á–∏–∫ —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
/// –∏–∑ –ª—é–±–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤.
///
/// # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
///
/// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å
/// –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.
static REQUEST_COUNTER: std::sync::atomic::AtomicU64 =
    std::sync::atomic::AtomicU64::new(0);

fn main() {
    println!("–†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞: {}", MAX_BUFFER_SIZE);
    println!("–¢–∞–π–º–∞—É—Ç: {} —Å–µ–∫", DEFAULT_HTTP_TIMEOUT);

    REQUEST_COUNTER.fetch_add(1, std::sync::atomic::Ordering::Relaxed);
    println!("–ó–∞–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: {}",
             REQUEST_COUNTER.load(std::sync::atomic::Ordering::Relaxed));
}
```

### 3. –ò–∑–±–µ–≥–∞–Ω–∏–µ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª

```rust title="‚úÖ –ó–∞–º–µ–Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏"
// ‚ùå –ü–ª–æ—Ö–æ: –º–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞
fn bad_example() {
    let buffer = vec![0u8; 4096];  // –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç 4096?
    std::thread::sleep(std::time::Duration::from_millis(5000)); // –ß—Ç–æ –∑–∞ 5000?

    if buffer.len() > 8192 {  // –ò —á—Ç–æ —ç—Ç–æ –∑–∞ 8192?
        println!("–ë—É—Ñ–µ—Ä —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π");
    }
}

// ‚úÖ –•–æ—Ä–æ—à–æ: –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
const DEFAULT_BUFFER_SIZE: usize = 4096;  // 4KB - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
const NETWORK_TIMEOUT_MS: u64 = 5000;     // 5 —Å–µ–∫—É–Ω–¥ —Ç–∞–π–º–∞—É—Ç–∞ —Å–µ—Ç–∏
const MAX_SAFE_BUFFER_SIZE: usize = 8192; // 8KB - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–∞–∑–º–µ—Ä

fn good_example() {
    let buffer = vec![0u8; DEFAULT_BUFFER_SIZE];
    std::thread::sleep(std::time::Duration::from_millis(NETWORK_TIMEOUT_MS));

    if buffer.len() > MAX_SAFE_BUFFER_SIZE {
        println!("–ë—É—Ñ–µ—Ä –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–∞–∑–º–µ—Ä");
    }
}

fn main() {
    bad_example();
    good_example();
}
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã –¥–µ—Ç–∞–ª—å–Ω–æ –∏–∑—É—á–∏–ª–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Rust:

‚úÖ **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (const)** ‚Äî –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –≤—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ –∫–æ–¥
‚úÖ **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (static)** ‚Äî —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤–µ—Å—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–æ–≥—Ä–∞–º–º—ã
‚úÖ **–†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É const –∏ static** ‚Äî –∫–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
‚úÖ **–ú—É—Ç–∞–±–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** ‚Äî –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
‚úÖ **–õ–µ–Ω–∏–≤—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é** ‚Äî OnceLock, lazy_static, Once
‚úÖ **–ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (const fn)** ‚Äî –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
‚úÖ **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –º–µ—Ç—Ä–∏–∫–∏, —É—Å–ª–æ–≤–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è
‚úÖ **–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏** ‚Äî –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ, –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–∑–±–µ–≥–∞–Ω–∏–µ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª

–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–º –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º. –û–Ω–∏ —è–≤–ª—è—é—Ç—Å—è –≤–∞–∂–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–¥—ë–∂–Ω–æ–≥–æ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –Ω–∞ Rust.

:::info –ß—Ç–æ –¥–∞–ª—å—à–µ?
–í —Å–ª–µ–¥—É—é—â–µ–π –≥–ª–∞–≤–µ: **"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ"** ‚Äî –º—ã –∏–∑—É—á–∏–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –≤ Rust, –≤–∫–ª—é—á–∞—è –æ–±—ã—á–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.
:::

---

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

1. **–°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–≥—Ä—ã** —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–∑–¥–æ—Ä–æ–≤—å–µ, —É—Ä–æ–Ω, —Å–∫–æ—Ä–æ—Å—Ç—å) –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

2. **–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

3. **–ù–∞–ø–∏—à–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º const fn –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

4. **–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–µ–Ω–∏–≤—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ —Ñ–∞–π–ª–∞ –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏

1. –í —á—ë–º –æ—Å–Ω–æ–≤–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É const –∏ static –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏?
2. –ü–æ—á–µ–º—É –º—É—Ç–∞–±–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±—É—é—Ç unsafe?
3. –ß—Ç–æ —Ç–∞–∫–æ–µ const fn –∏ –∫–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —É –Ω–∏—Ö –µ—Å—Ç—å?
4. –ö–æ–≥–¥–∞ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–µ–Ω–∏–≤—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö?
5. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö?

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [The Rust Book - Constants](https://doc.rust-lang.org/book/ch03-01-variables-and-mutability.html#constants)
- [Rust Reference - Static Items](https://doc.rust-lang.org/reference/items/static-items.html)
- [Rust Reference - Constant Items](https://doc.rust-lang.org/reference/items/constant-items.html)
- [Rust Reference - Const Functions](https://doc.rust-lang.org/reference/const_eval.html#const-functions)
